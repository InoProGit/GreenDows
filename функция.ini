функция сперва добавляющая transition и overflow затем определяющая и явно назначающая:
width
height
padding
border
margin
затем схлапывающая каждую в порядке задаваемой очереди
с возможностью вызывать переданную внутрь функцию: "до", "одновременно", "в середине" и "после" скрытия каждого